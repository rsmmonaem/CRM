import{_ as ee}from"./ModernLayout-Blpe_v3Z.js";import{m as b,j as g,g as a,o as l,a as f,d as k,h as te,w,b as e,i as d,c as I,t as o,n as j,F as u,p as v,f as p,l as V,q as E}from"./app-DYzlPos4.js";import{_ as se}from"./CallModal-BC4SUx0m.js";import{_ as oe}from"./NewLeadModal-BKU2UA50.js";import"./ApplicationLogo-GY9c2_6p.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const le={class:"mb-8"},ae={class:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-xl p-8 text-white shadow-xl"},re={class:"flex items-center justify-between"},ne={class:"flex items-center space-x-4"},de={class:"hidden md:block"},ie={class:"text-right"},ce={class:"text-white text-xl font-semibold"},ge={class:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6"},ue={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-blue-500"},xe={class:"flex items-center"},he={class:"ml-4"},ye={class:"text-2xl font-bold text-gray-900 dark:text-white"},me={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-red-500"},ve={class:"flex items-center"},pe={class:"ml-4"},be={class:"text-2xl font-bold text-gray-900 dark:text-white"},fe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-green-500"},ke={class:"flex items-center"},we={class:"ml-4"},_e={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ce={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-purple-500"},Me={class:"flex items-center"},je={class:"ml-4"},Ve={class:"text-2xl font-bold text-gray-900 dark:text-white"},Be={key:0,class:"mb-6"},Pe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},ze={class:"flex flex-wrap gap-2"},Le=["onClick"],Te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$e={id:"todays-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},De={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-5"},Ue={class:"flex items-center justify-between"},Ne={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},Ae={key:0,class:"ml-2"},Se={class:"p-6"},He={key:0,class:"text-center py-8"},Ie={key:1},Ee={class:"space-y-4"},Fe={class:"flex justify-between items-start"},Oe={class:"flex-1"},Re={class:"text-lg font-medium text-gray-900 dark:text-white"},qe={class:"text-sm text-gray-600 dark:text-gray-400"},We={class:"text-sm text-gray-500 dark:text-gray-400"},Ge={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},Je={class:"text-xs text-blue-500 mt-1"},Ke={class:"flex space-x-2"},Qe=["onClick"],Xe={key:0,class:"flex justify-center items-center space-x-2 mt-6"},Ye=["onClick"],Ze={id:"pending-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},et={class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-5"},tt={class:"flex items-center justify-between"},st={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},ot={key:0,class:"ml-2"},lt={class:"p-6"},at={key:0,class:"text-center py-8"},rt={key:1},nt={class:"space-y-4"},dt={class:"flex justify-between items-start"},it={class:"flex-1"},ct={class:"text-lg font-medium text-gray-900 dark:text-white"},gt={class:"text-sm text-gray-600 dark:text-gray-400"},ut={class:"text-sm text-gray-500 dark:text-gray-400"},xt={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},ht={class:"text-xs text-red-500 mt-1"},yt={class:"flex space-x-2"},mt=["onClick"],vt={key:0,class:"flex justify-center items-center space-x-2 mt-6"},pt=["onClick"],bt={id:"upcoming-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},ft={class:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-5"},kt={class:"flex items-center justify-between"},wt={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},_t={key:0,class:"ml-2"},Ct={class:"p-6"},Mt={key:0,class:"text-center py-8"},jt={key:1},Vt={class:"space-y-4"},Bt={class:"flex justify-between items-start"},Pt={class:"flex-1"},zt={class:"text-lg font-medium text-gray-900 dark:text-white"},Lt={class:"text-sm text-gray-600 dark:text-gray-400"},Tt={class:"text-sm text-gray-500 dark:text-gray-400"},$t={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},Dt={class:"text-xs text-green-500 mt-1"},Ut={class:"flex space-x-2"},Nt=["onClick"],At={key:0,class:"flex justify-center items-center space-x-2 mt-6"},St=["onClick"],Ht={id:"recent-leads-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden"},It={class:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-5"},Et={class:"flex items-center justify-between"},Ft={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},Ot={class:"p-6"},Rt={key:0,class:"text-center py-8"},qt={key:1,class:"overflow-x-auto"},Wt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Gt={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Kt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},Qt={class:"px-6 py-4 whitespace-nowrap"},Xt={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},es={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ts={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ss={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},os={class:"flex space-x-1"},ls=["onClick"],x=5,us={__name:"Dashboard",props:{todaysCalls:Array,pendingCalls:Array,upcomingCalls:Array,leads:Array,stats:Object,users:Array,user:Object,selectedUser:Object,services:Array,statuses:Array,modalUsers:Array},setup(n){const c=n,z=b(!1),L=b(null),T=b(null),B=b(!1),h=b(1),y=b(1),m=b(1),P=(r,t=null)=>{L.value=r,T.value=t,z.value=!0},F=()=>{z.value=!1,L.value=null,T.value=null},O=()=>{B.value=!0},R=()=>{B.value=!1},q=r=>{E.visit(route("dashboard.filter",r))},W=()=>{E.visit(route("dashboard"))},G=()=>{document.getElementById("todays-calls-section")?.scrollIntoView({behavior:"smooth"})},J=()=>{document.getElementById("pending-calls-section")?.scrollIntoView({behavior:"smooth"})},K=()=>{document.getElementById("upcoming-calls-section")?.scrollIntoView({behavior:"smooth"})},Q=()=>{document.getElementById("recent-leads-section")?.scrollIntoView({behavior:"smooth"})},N=g(()=>c.stats.todays_calls),A=g(()=>c.stats.pending_calls),S=g(()=>c.stats.upcoming_calls),H=g(()=>c.stats.total_leads);g(()=>c.todaysCalls.length+c.pendingCalls.length+c.upcomingCalls.length);const X=g(()=>{const r=(h.value-1)*x,t=r+x;return c.todaysCalls.slice(r,t)}),Y=g(()=>{const r=(y.value-1)*x,t=r+x;return c.pendingCalls.slice(r,t)}),Z=g(()=>{const r=(m.value-1)*x,t=r+x;return c.upcomingCalls.slice(r,t)}),_=g(()=>Math.ceil(c.todaysCalls.length/x)),C=g(()=>Math.ceil(c.pendingCalls.length/x)),M=g(()=>Math.ceil(c.upcomingCalls.length/x)),$=r=>{h.value=r},D=r=>{y.value=r},U=r=>{m.value=r};return(r,t)=>(l(),a(u,null,[f(k(te),{title:"Dashboard"}),f(ee,null,{default:w(()=>[e("div",le,[e("div",ae,[e("div",re,[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-4xl font-bold mb-3"},"CRM Dashboard"),e("p",{class:"text-blue-100 text-lg"},"Manage your leads and track call activities efficiently")],-1)),e("div",ne,[e("button",{onClick:O,class:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center space-x-2"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"New Lead",-1)])]),e("div",de,[e("div",ie,[t[7]||(t[7]=e("p",{class:"text-blue-100 text-sm"},"Welcome back,",-1)),e("p",ce,o(n.user?.name),1)])])])])])]),e("div",{class:"mb-8"},[e("div",{class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4"},[e("button",{onClick:G,class:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[9]||(t[9]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),e("span",null,"Today's Calls")],-1)])]),e("button",{onClick:J,class:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[10]||(t[10]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",null,"Pending Calls")],-1)])]),e("button",{onClick:K,class:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[11]||(t[11]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",null,"Upcoming Calls")],-1)])]),e("button",{onClick:Q,class:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[12]||(t[12]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),e("span",null,"Recent Leads")],-1)])])])]),e("div",ge,[e("div",ue,[e("div",xe,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])])],-1)),e("div",he,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Today's Calls",-1)),e("p",ye,o(N.value),1)])])]),e("div",me,[e("div",ve,[t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",pe,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Pending Calls",-1)),e("p",be,o(A.value),1)])])]),e("div",fe,[e("div",ke,[t[18]||(t[18]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1)),e("div",we,[t[17]||(t[17]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Upcoming Calls",-1)),e("p",_e,o(S.value),1)])])]),e("div",Ce,[e("div",Me,[t[20]||(t[20]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),e("div",je,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Leads",-1)),e("p",Ve,o(H.value),1)])])])]),(n.user.is_admin||n.user.permissions?.users?.includes("view"))&&n.users.length>0?(l(),a("div",Be,[e("div",Pe,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Filter by User",-1)),e("div",ze,[e("button",{onClick:W,class:j(["px-4 py-2 rounded-md text-sm font-medium transition-colors",n.selectedUser?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-blue-500 text-white"])}," All Users ",2),(l(!0),a(u,null,v(n.users,s=>(l(),a("button",{key:s.id,onClick:i=>q(s.id),class:j(["px-4 py-2 rounded-md text-sm font-medium transition-colors",n.selectedUser&&n.selectedUser.id===s.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"])},o(s.name),11,Le))),128))])])])):d("",!0),e("div",Te,[e("div",$e,[e("div",De,[e("div",Ue,[t[22]||(t[22]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Today's Calls")],-1)),e("div",Ne,[p(o(N.value)+" calls ",1),_.value>1?(l(),a("span",Ae," (Page "+o(h.value)+" of "+o(_.value)+") ",1)):d("",!0)])])]),e("div",Se,[n.todaysCalls.length===0?(l(),a("div",He,[...t[23]||(t[23]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No calls scheduled for today.",-1)])])):(l(),a("div",Ie,[e("div",Ee,[(l(!0),a(u,null,v(X.value,s=>(l(),a("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",Fe,[e("div",Oe,[e("h4",Re,o(s.lead.name),1),e("p",qe,o(s.lead.company_name),1),e("p",We,o(s.lead.phone)+" • "+o(s.lead.email),1),e("p",Ge,o(s.call_followup_summary),1),e("p",Je," Scheduled: "+o(new Date(s.next_call_date).toLocaleDateString()),1)]),e("div",Ke,[e("button",{onClick:i=>P(s.lead,s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Call ",8,Qe),f(k(V),{href:r.route("leads.show",s.lead.id),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"},{default:w(()=>[...t[24]||(t[24]=[p(" View Lead ",-1)])]),_:1},8,["href"])])])]))),128))]),_.value>1?(l(),a("div",Xe,[h.value>1?(l(),a("button",{key:0,onClick:t[0]||(t[0]=s=>$(h.value-1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," ← ")):d("",!0),(l(!0),a(u,null,v(Array.from({length:_.value},(s,i)=>i+1),s=>(l(),a("button",{key:s,onClick:i=>$(s),class:j(["px-3 py-1 text-sm rounded-md transition-colors",s===h.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"])},o(s),11,Ye))),128)),h.value<_.value?(l(),a("button",{key:1,onClick:t[1]||(t[1]=s=>$(h.value+1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," → ")):d("",!0)])):d("",!0)]))])]),e("div",Ze,[e("div",et,[e("div",tt,[t[25]||(t[25]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Pending Calls")],-1)),e("div",st,[p(o(A.value)+" overdue ",1),C.value>1?(l(),a("span",ot," (Page "+o(y.value)+" of "+o(C.value)+") ",1)):d("",!0)])])]),e("div",lt,[n.pendingCalls.length===0?(l(),a("div",at,[...t[26]||(t[26]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No pending calls.",-1)])])):(l(),a("div",rt,[e("div",nt,[(l(!0),a(u,null,v(Y.value,s=>(l(),a("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",dt,[e("div",it,[e("h4",ct,o(s.lead.name),1),e("p",gt,o(s.lead.company_name),1),e("p",ut,o(s.lead.phone)+" • "+o(s.lead.email),1),e("p",xt,o(s.call_followup_summary),1),e("p",ht," Overdue: "+o(new Date(s.next_call_date).toLocaleDateString()),1)]),e("div",yt,[e("button",{onClick:i=>P(s.lead,s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Call ",8,mt),f(k(V),{href:r.route("leads.show",s.lead.id),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"},{default:w(()=>[...t[27]||(t[27]=[p(" View Lead ",-1)])]),_:1},8,["href"])])])]))),128))]),C.value>1?(l(),a("div",vt,[y.value>1?(l(),a("button",{key:0,onClick:t[2]||(t[2]=s=>D(y.value-1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," ← ")):d("",!0),(l(!0),a(u,null,v(Array.from({length:C.value},(s,i)=>i+1),s=>(l(),a("button",{key:s,onClick:i=>D(s),class:j(["px-3 py-1 text-sm rounded-md transition-colors",s===y.value?"bg-red-500 text-white":"bg-gray-200 hover:bg-gray-300"])},o(s),11,pt))),128)),y.value<C.value?(l(),a("button",{key:1,onClick:t[3]||(t[3]=s=>D(y.value+1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," → ")):d("",!0)])):d("",!0)]))])])]),e("div",bt,[e("div",ft,[e("div",kt,[t[28]||(t[28]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Upcoming Calls")],-1)),e("div",wt,[p(o(S.value)+" scheduled ",1),M.value>1?(l(),a("span",_t," (Page "+o(m.value)+" of "+o(M.value)+") ",1)):d("",!0)])])]),e("div",Ct,[n.upcomingCalls.length===0?(l(),a("div",Mt,[...t[29]||(t[29]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No upcoming calls scheduled.",-1)])])):(l(),a("div",jt,[e("div",Vt,[(l(!0),a(u,null,v(Z.value,s=>(l(),a("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",Bt,[e("div",Pt,[e("h4",zt,o(s.lead.name),1),e("p",Lt,o(s.lead.company_name),1),e("p",Tt,o(s.lead.phone)+" • "+o(s.lead.email),1),e("p",$t,o(s.call_followup_summary),1),e("p",Dt," Scheduled: "+o(new Date(s.next_call_date).toLocaleDateString()),1)]),e("div",Ut,[e("button",{onClick:i=>P(s.lead),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Schedule ",8,Nt),f(k(V),{href:r.route("leads.show",s.lead.id),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"},{default:w(()=>[...t[30]||(t[30]=[p(" View Lead ",-1)])]),_:1},8,["href"])])])]))),128))]),M.value>1?(l(),a("div",At,[m.value>1?(l(),a("button",{key:0,onClick:t[4]||(t[4]=s=>U(m.value-1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," ← ")):d("",!0),(l(!0),a(u,null,v(Array.from({length:M.value},(s,i)=>i+1),s=>(l(),a("button",{key:s,onClick:i=>U(s),class:j(["px-3 py-1 text-sm rounded-md transition-colors",s===m.value?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300"])},o(s),11,St))),128)),m.value<M.value?(l(),a("button",{key:1,onClick:t[5]||(t[5]=s=>U(m.value+1)),class:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," → ")):d("",!0)])):d("",!0)]))])]),e("div",Ht,[e("div",It,[e("div",Et,[t[31]||(t[31]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Recent Leads")],-1)),e("div",Ft,o(H.value)+" total ",1)])]),e("div",Ot,[n.leads.length===0?(l(),a("div",Rt,[...t[32]||(t[32]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No leads found.",-1)])])):(l(),a("div",qt,[e("table",Wt,[t[35]||(t[35]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"SL No."),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Customer Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Leads Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Phone"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Service"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Assign To"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Next Call Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Options")])],-1)),e("tbody",Gt,[(l(!0),a(u,null,v(n.leads.slice(0,10),(s,i)=>(l(),a("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",Jt,o(i+1),1),e("td",Kt,o(s.name),1),e("td",Qt,[e("span",Xt,o(s.status.name),1)]),e("td",Yt,o(s.phone),1),e("td",Zt,o(s.service.name),1),e("td",es,o(s.assigned_user.name),1),e("td",ts,o(s.lead_details&&s.lead_details.length>0?new Date(s.lead_details[s.lead_details.length-1].next_call_date).toLocaleDateString():"-"),1),e("td",ss,[e("div",os,[e("button",{onClick:as=>P(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Call"}," 📞 ",8,ls),f(k(V),{href:r.route("leads.show",s.id),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"View"},{default:w(()=>[...t[33]||(t[33]=[p(" 👁️ ",-1)])]),_:1},8,["href"]),f(k(V),{href:r.route("leads.edit",s.id),class:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Edit"},{default:w(()=>[...t[34]||(t[34]=[p(" ✏️ ",-1)])]),_:1},8,["href"])])])]))),128))])])]))])]),z.value?(l(),I(se,{key:1,lead:L.value,statuses:n.statuses,callDetail:T.value,onClose:F},null,8,["lead","statuses","callDetail"])):d("",!0),B.value?(l(),I(oe,{key:2,show:B.value,services:n.services,statuses:n.statuses,users:n.modalUsers,onClose:R},null,8,["show","services","statuses","users"])):d("",!0)]),_:1})],64))}};export{us as default};
