import{m as b,g as r,o as s,a as y,d as c,h as D,w as f,b as e,c as m,i,t as a,F as u,p as v,n as h,f as o,l as k}from"./app-CdFxFndD.js";import{_ as j}from"./ModernLayout-B6XeIBrs.js";import{_ as S}from"./EditCallModal-BNQRF7vp.js";import"./ApplicationLogo-B8Y8k79_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"mb-8"},V={class:"bg-gradient-to-r from-green-600 via-teal-600 to-blue-600 rounded-xl p-8 text-white shadow-xl"},B={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},T={class:"flex items-center space-x-4"},N={class:"text-right"},E={class:"text-2xl font-bold"},H={class:"dark:bg-gray-800 rounded-xl shadow-lg p-6"},L={class:"flex items-center justify-between mb-6"},z={class:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded-full"},$={key:0,class:"text-center py-12"},A={key:1,class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},F={class:"flex justify-between items-start mb-2"},O={class:"text-lg font-semibold text-gray-800 dark:text-white truncate"},I={class:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300 mb-2"},U={class:"truncate"},q={class:"truncate"},G={class:"truncate"},J={class:"truncate"},K={class:"truncate"},P={key:0,class:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-300"},Q={class:"text-gray-700 dark:text-gray-200 break-words"},R={class:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-700 text-xs text-blue-600 dark:text-blue-300"},W={class:"grid grid-cols-2 gap-2"},X={class:"mt-3 flex flex-wrap gap-2"},Y=["onClick"],Z={key:2,class:"mt-8 flex justify-center"},ee={class:"flex items-center space-x-2"},te=["innerHTML"],ne={__name:"Index",props:{callLogs:Object,user:Object},setup(d){const x=b(!1),g=b(null),w=n=>{g.value=n,x.value=!0},_=()=>{x.value=!1,g.value=null},p=n=>n.called_at?"Completed":"Scheduled",C=n=>n.called_at?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";return(n,t)=>(s(),r(u,null,[y(c(D),{title:"Call Log"}),y(j,null,{default:f(()=>[e("div",M,[e("div",V,[e("div",B,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl md:text-4xl font-bold mb-2"},"Call Log"),e("p",{class:"text-green-100 text-lg"},"Track and manage all call activities")],-1)),e("div",T,[e("div",N,[e("div",E,a(d.callLogs.total),1),t[0]||(t[0]=e("div",{class:"text-green-100 text-sm"},"Total Calls",-1))])])])])]),e("div",H,[e("div",L,[t[2]||(t[2]=e("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white flex items-center space-x-2"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),e("span",null,"All Call Logs")],-1)),e("span",z,a(d.callLogs.total)+" total",1)]),d.callLogs.data.length===0?(s(),r("div",$,[...t[3]||(t[3]=[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])],-1),e("p",{class:"text-gray-500 dark:text-gray-400 text-lg"},"No call logs found.",-1)])])):(s(),r("div",A,[(s(!0),r(u,null,v(d.callLogs.data,l=>(s(),r("div",{key:l.id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl dark:hover:shadow-white/20 border border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-white/30 transition-all duration-300 p-4 flex flex-col justify-between"},[e("div",F,[e("h4",O,a(l.lead?.name||"Unnamed Lead"),1),e("span",{class:h(["text-xs font-semibold px-2 py-1 rounded-full",C(l)])},a(p(l)),3)]),e("div",I,[e("div",U,[t[4]||(t[4]=e("strong",null,"Lead Status:",-1)),o(" "+a(l.lead?.status?.name||"-"),1)]),e("div",q,[t[5]||(t[5]=e("strong",null,"Service:",-1)),o(" "+a(l.lead?.service?.name||"-"),1)]),e("div",G,[t[6]||(t[6]=e("strong",null,"Assigned:",-1)),o(" "+a(l.lead?.assigned_user?.name||"-"),1)]),e("div",J,[t[7]||(t[7]=e("strong",null,"Created:",-1)),o(" "+a(l.created_at?new Date(l.created_at).toLocaleDateString():"-"),1)]),e("div",K,[t[8]||(t[8]=e("strong",null,"By:",-1)),o(" "+a(l.creator?.name||"-"),1)])]),l.call_followup_summary?(s(),r("div",P,[t[9]||(t[9]=e("div",{class:"mb-1 font-semibold text-gray-700 dark:text-gray-200"},"Call Summary",-1)),e("div",Q,a(l.call_followup_summary),1)])):i("",!0),e("div",R,[e("div",W,[e("div",null,[t[10]||(t[10]=e("strong",null,"Call Date:",-1)),o(" "+a(l.call_followup_date?new Date(l.call_followup_date).toLocaleDateString():"-"),1)]),e("div",null,[t[11]||(t[11]=e("strong",null,"Next Call:",-1)),o(" "+a(l.next_call_date?new Date(l.next_call_date).toLocaleDateString():"-"),1)])])]),e("div",X,[l.lead?.id?(s(),m(c(k),{key:0,href:n.route("leads.show",l.lead.id),class:"flex-1 bg-blue-500 hover:bg-blue-600 dark:hover:bg-blue-400 text-white font-semibold py-2 px-2 rounded text-xs text-center transition-all duration-200 hover:scale-105 hover:shadow-lg"},{default:f(()=>[...t[12]||(t[12]=[o("View Lead",-1)])]),_:1},8,["href"])):i("",!0),e("button",{onClick:le=>w(l),class:"flex-1 bg-yellow-500 hover:bg-yellow-600 dark:hover:bg-yellow-400 text-white font-semibold py-2 px-2 rounded text-xs text-center transition-all duration-200 hover:scale-105 hover:shadow-lg"},"Edit Call",8,Y)])]))),128))])),d.callLogs.links&&d.callLogs.links.length>3?(s(),r("div",Z,[e("nav",ee,[(s(!0),r(u,null,v(d.callLogs.links,l=>(s(),r(u,{key:l.label},[l.url?(s(),m(c(k),{key:0,href:l.url,innerHTML:l.label,class:h(["px-3 py-2 text-sm font-medium rounded-md transition-colors",l.active?"bg-blue-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},null,8,["href","innerHTML","class"])):(s(),r("span",{key:1,innerHTML:l.label,class:"px-3 py-2 text-sm font-medium rounded-md text-gray-400 dark:text-gray-600 cursor-not-allowed"},null,8,te))],64))),128))])])):i("",!0)]),x.value?(s(),m(S,{key:0,callDetail:g.value,onClose:_},null,8,["callDetail"])):i("",!0)]),_:1})],64))}};export{ne as default};
