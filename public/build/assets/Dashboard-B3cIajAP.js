import{_ as re}from"./ModernLayout-CKcIDrzU.js";import{m as h,j as x,g as r,o as a,i as d,c as D,b as e,t as l,q as se,F as M,p as L,f as B,e as ne,s as te,a as q,d as Z,h as de,w as ee,n as C,l as le}from"./app-B2Ju-_XS.js";import{_ as ae}from"./CallModal-vw9wKyi0.js";import{_ as ie,a as ce}from"./EditLeadModal-D7_o2H9o.js";import{_ as ue}from"./ViewCallModal-DT1npveA.js";import{_ as ge}from"./EditCallModal-ATnTvc02.js";import"./ApplicationLogo-D2VyM9Ip.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={class:"flex items-center justify-between pb-3 border-b border-gray-200 dark:border-gray-700 mb-4"},he={class:"flex items-center space-x-3"},ve={class:"text-xl font-bold text-gray-900 dark:text-white"},me={class:"text-sm text-gray-500 dark:text-gray-400"},ye={class:"space-y-4"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pe={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},ke={class:"text-sm font-semibold text-gray-900 dark:text-white"},fe={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},we={class:"text-sm font-semibold text-gray-900 dark:text-white"},_e={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Ce={class:"text-sm font-semibold text-gray-900 dark:text-white"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$e={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},je={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Ne={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},De={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Ve={class:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800"},Le={class:"text-sm font-semibold text-gray-900 dark:text-white"},Be={key:0,class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={class:"bg-white dark:bg-gray-800 p-3 rounded-md"},Se={class:"text-sm font-semibold text-gray-900 dark:text-white"},Pe={class:"bg-white dark:bg-gray-800 p-3 rounded-md"},Ue={class:"text-sm font-semibold text-gray-900 dark:text-white"},Te={class:"md:col-span-2 bg-white dark:bg-gray-800 p-3 rounded-md"},Ee={class:"text-sm text-gray-700 dark:text-gray-300"},He={key:1,class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},Ie={class:"space-y-3 max-h-60 overflow-y-auto"},Fe={class:"flex justify-between items-start mb-2"},Oe={class:"text-sm font-semibold text-gray-900 dark:text-white"},Re={class:"text-xs text-gray-500 dark:text-gray-400"},qe={class:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded-full"},We={class:"mb-2"},Ge={class:"text-xs text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-600 p-2 rounded-md"},Je={key:0,class:"mb-2"},Ke={class:"text-xs text-gray-600 dark:text-gray-400"},Qe={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-2"},Xe={key:0},Ye={class:"flex justify-end space-x-1 pt-2 border-t border-gray-200 dark:border-gray-600"},Ze=["onClick"],et=["onClick"],tt=["onClick"],st={key:2,class:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg"},lt={class:"flex justify-end items-center mt-4 pt-3 border-t border-gray-200 dark:border-gray-700"},at={class:"flex space-x-2"},ot=["href"],rt={__name:"LeadShowModal",props:{lead:Object,show:Boolean,services:Array,statuses:Array,users:Array,user:Object},emits:["close"],setup(o,{emit:u}){const m=o,z=u,$=()=>{z("close")},V=(c,n)=>m.user?.is_admin?!0:m.user?.permissions?.[c]?.includes(n)||!1,k=c=>m.user?.is_admin||V("leads","create")?!0:c.assigned_user_id===m.user?.id,j=h(!1),y=()=>{j.value=!0},b=()=>{j.value=!1},v=h(!1),f=h(!1),A=h(!1),N=h(null),W=c=>{v.value=!0},S=c=>{N.value=c,f.value=!0},G=c=>{N.value=c,A.value=!0},P=()=>{v.value=!1,f.value=!1,A.value=!1,N.value=null},J=c=>{confirm(`Are you sure you want to delete this call record from ${new Date(c.call_followup_date).toLocaleDateString()}?`)&&te.delete(route("lead-details.destroy",c.id),{onSuccess:()=>{},onError:n=>{console.error("Delete call detail errors:",n)}})},w=x(()=>m.lead?.lead_details&&m.lead.lead_details.length>0?m.lead.lead_details[0]:null),K=x(()=>w.value?.next_call_date?new Date(w.value.next_call_date).toLocaleDateString():"Not set"),Q=x(()=>w.value?.called_at?new Date(w.value.called_at).toLocaleDateString():"Never"),X=c=>c||"N/A",I=c=>c||"N/A";return(c,n)=>(a(),r(M,null,[o.show?(a(),r("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:$},[e("div",{class:"relative top-10 mx-auto p-4 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 max-w-6xl shadow-xl rounded-lg bg-white dark:bg-gray-800",onClick:n[1]||(n[1]=ne(()=>{},["stop"]))},[e("div",xe,[e("div",he,[n[2]||(n[2]=e("div",{class:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",null,[e("h3",ve,l(o.lead?.name||"Lead Details"),1),e("p",me,l(o.lead?.company_name||"Company"),1)])]),e("div",{class:"flex items-center space-x-2"},[e("button",{onClick:y,class:"px-3 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-md transition-colors flex items-center space-x-2 text-sm"},[...n[3]||(n[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",null,"Edit Lead",-1)])]),e("button",{onClick:$,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[...n[4]||(n[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",ye,[e("div",be,[e("div",pe,[n[5]||(n[5]=e("div",{class:"flex items-center space-x-2 mb-2"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),e("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Phone")],-1)),e("p",ke,l(X(o.lead?.phone)),1)]),e("div",fe,[n[6]||(n[6]=e("div",{class:"flex items-center space-x-2 mb-2"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),e("label",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},"Email")],-1)),e("p",we,l(I(o.lead?.email)),1)]),e("div",_e,[n[7]||(n[7]=se('<div class="flex items-center space-x-2 mb-2"><svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg><label class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide">Location</label></div>',1)),e("p",Ce,l(o.lead?.location||"N/A"),1)])]),e("div",Me,[e("div",$e,[n[8]||(n[8]=e("div",{class:"flex items-center space-x-2 mb-2"},[e("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("label",{class:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide"},"Status")],-1)),e("span",je,l(o.lead?.status?.name||"No Status"),1)]),e("div",Ne,[n[9]||(n[9]=e("div",{class:"flex items-center space-x-2 mb-2"},[e("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})]),e("label",{class:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wide"},"Service")],-1)),e("span",De,l(o.lead?.service?.name||"No Service"),1)]),e("div",Ve,[n[10]||(n[10]=e("div",{class:"flex items-center space-x-2 mb-2"},[e("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),e("label",{class:"text-xs font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide"},"Assigned To")],-1)),e("p",Le,l(o.lead?.assigned_user?.name||"Unassigned"),1)])]),w.value?(a(),r("div",Be,[n[14]||(n[14]=e("div",{class:"flex items-center space-x-2 mb-3"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),e("h4",{class:"text-sm font-semibold text-blue-900 dark:text-blue-100"},"Latest Call Information")],-1)),e("div",ze,[e("div",Ae,[n[11]||(n[11]=e("label",{class:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1"},"Next Call Date",-1)),e("p",Se,l(K.value),1)]),e("div",Pe,[n[12]||(n[12]=e("label",{class:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1"},"Last Call Date",-1)),e("p",Ue,l(Q.value),1)]),e("div",Te,[n[13]||(n[13]=e("label",{class:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1"},"Call Summary",-1)),e("p",Ee,l(w.value.call_followup_summary||"No summary available"),1)])])])):d("",!0),o.lead?.lead_details&&o.lead.lead_details.length>0?(a(),r("div",He,[n[16]||(n[16]=e("div",{class:"flex items-center space-x-2 mb-3"},[e("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Call History")],-1)),e("div",Ie,[(a(!0),r(M,null,L(o.lead.lead_details.slice().reverse(),(g,Y)=>(a(),r("div",{key:g.id,class:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 p-3 rounded-lg shadow-sm"},[e("div",Fe,[e("div",null,[e("h5",Oe," Call on "+l(g.called_at?new Date(g.called_at).toLocaleDateString():"Not called"),1),e("p",Re," by "+l(o.lead.assigned_user?.name||"Unknown User"),1)]),e("span",qe," #"+l(o.lead.lead_details.length-Y),1)]),e("div",We,[e("p",Ge,l(g.call_followup_summary||"No summary available"),1)]),g.next_call_date?(a(),r("div",Je,[e("p",Ke,[n[15]||(n[15]=e("span",{class:"font-medium"},"Next call scheduled:",-1)),B(" "+l(new Date(g.next_call_date).toLocaleDateString()),1)])])):d("",!0),e("div",Qe,[e("span",null,"Duration: "+l(g.call_duration||"N/A"),1),g.called_at?(a(),r("span",Xe,"Called: "+l(new Date(g.called_at).toLocaleString()),1)):d("",!0)]),e("div",Ye,[e("button",{onClick:U=>S(g),class:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-xs font-medium px-2 py-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"View"}," 👁️ View ",8,Ze),k(o.lead)?(a(),r("button",{key:0,onClick:U=>G(g),class:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300 text-xs font-medium px-2 py-1 rounded hover:bg-yellow-50 dark:hover:bg-yellow-900/20",title:"Edit"}," ✏️ Edit ",8,et)):d("",!0),k(o.lead)?(a(),r("button",{key:1,onClick:n[0]||(n[0]=U=>W(o.lead)),class:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 text-xs font-medium px-2 py-1 rounded hover:bg-green-50 dark:hover:bg-green-900/20",title:"Call Again"}," 📞 Call Again ")):d("",!0),k(o.lead)?(a(),r("button",{key:2,onClick:U=>J(g),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-xs font-medium px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete"}," 🗑️ Delete ",8,tt)):d("",!0)])]))),128))])])):(a(),r("div",st,[...n[17]||(n[17]=[se('<div class="text-center py-4"><svg class="mx-auto h-8 w-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg><h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">No call history</h3><p class="mt-1 text-xs text-gray-500 dark:text-gray-400">This lead hasn&#39;t been called yet.</p></div>',1)])]))]),e("div",lt,[e("div",at,[e("button",{onClick:$,class:"px-3 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md transition-colors text-sm"}," Close "),e("a",{href:c.route("leads.show",o.lead?.id),class:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors text-sm"}," View Full Lead ",8,ot)])])])])):d("",!0),j.value?(a(),D(ie,{key:1,lead:o.lead,services:o.services,statuses:o.statuses,users:o.users,onClose:b},null,8,["lead","services","statuses","users"])):d("",!0),v.value?(a(),D(ae,{key:2,lead:o.lead,statuses:o.statuses,onClose:P},null,8,["lead","statuses"])):d("",!0),f.value?(a(),D(ue,{key:3,callDetail:N.value,lead:o.lead,onClose:P},null,8,["callDetail","lead"])):d("",!0),A.value?(a(),D(ge,{key:4,callDetail:N.value,lead:o.lead,onClose:P},null,8,["callDetail","lead"])):d("",!0)],64))}},nt={class:"mb-8"},dt={class:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-xl p-8 text-white shadow-xl"},it={class:"flex items-center justify-between"},ct={class:"flex items-center space-x-4"},ut={class:"hidden md:block"},gt={class:"text-right"},xt={class:"text-white text-xl font-semibold"},ht={class:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-6"},vt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-blue-500"},mt={class:"flex items-center"},yt={class:"ml-4"},bt={class:"text-2xl font-bold text-gray-900 dark:text-white"},pt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-red-500"},kt={class:"flex items-center"},ft={class:"ml-4"},wt={class:"text-2xl font-bold text-gray-900 dark:text-white"},_t={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-green-500"},Ct={class:"flex items-center"},Mt={class:"ml-4"},$t={class:"text-2xl font-bold text-gray-900 dark:text-white"},jt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-l-4 border-purple-500"},Nt={class:"flex items-center"},Dt={class:"ml-4"},Vt={class:"text-2xl font-bold text-gray-900 dark:text-white"},Lt={key:0,class:"mb-6"},Bt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},zt={class:"flex flex-wrap gap-2"},At=["onClick"],St={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pt={id:"todays-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},Ut={class:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-5"},Tt={class:"flex items-center justify-between"},Et={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},Ht={key:0,class:"ml-2"},It={class:"p-6"},Ft={key:0,class:"text-center py-8"},Ot={key:1},Rt={class:"space-y-4"},qt={class:"flex justify-between items-start"},Wt={class:"flex-1"},Gt={class:"text-lg font-medium text-gray-900 dark:text-white"},Jt={class:"text-sm text-gray-600 dark:text-gray-400"},Kt={class:"text-sm text-gray-500 dark:text-gray-400"},Qt={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},Xt={class:"text-xs text-blue-500 mt-1"},Yt={class:"flex items-center space-x-2 mt-2"},Zt={class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},es={class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},ts={class:"flex space-x-2"},ss=["onClick"],ls=["onClick"],as={key:0,class:"flex justify-center items-center space-x-2 mt-6"},os={id:"pending-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},rs={class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-5"},ns={class:"flex items-center justify-between"},ds={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},is={key:0,class:"ml-2"},cs={class:"p-6"},us={key:0,class:"text-center py-8"},gs={key:1},xs={class:"space-y-4"},hs={class:"flex justify-between items-start"},vs={class:"flex-1"},ms={class:"text-lg font-medium text-gray-900 dark:text-white"},ys={class:"text-sm text-gray-600 dark:text-gray-400"},bs={class:"text-sm text-gray-500 dark:text-gray-400"},ps={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},ks={class:"text-xs text-red-500 mt-1"},fs={class:"flex items-center space-x-2 mt-2"},ws={class:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full"},_s={class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},Cs={class:"flex space-x-2"},Ms=["onClick"],$s=["onClick"],js={key:0,class:"flex justify-center items-center space-x-2 mt-6"},Ns={id:"upcoming-calls-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-8 overflow-hidden"},Ds={class:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-5"},Vs={class:"flex items-center justify-between"},Ls={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},Bs={key:0,class:"ml-2"},zs={class:"p-6"},As={key:0,class:"text-center py-8"},Ss={key:1},Ps={class:"space-y-4"},Us={class:"flex justify-between items-start"},Ts={class:"flex-1"},Es={class:"text-lg font-medium text-gray-900 dark:text-white"},Hs={class:"text-sm text-gray-600 dark:text-gray-400"},Is={class:"text-sm text-gray-500 dark:text-gray-400"},Fs={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},Os={class:"text-xs text-green-500 mt-1"},Rs={class:"flex items-center space-x-2 mt-2"},qs={class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},Ws={class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},Gs={class:"flex space-x-2"},Js=["onClick"],Ks=["onClick"],Qs={key:0,class:"flex justify-center items-center space-x-2 mt-6"},Xs={id:"recent-leads-section",class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden"},Ys={class:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-5"},Zs={class:"flex items-center justify-between"},el={class:"text-white text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full"},tl={class:"p-6"},sl={key:0,class:"text-center py-8"},ll={key:1,class:"overflow-x-auto"},al={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ol={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},rl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},nl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},dl={class:"px-6 py-4 whitespace-nowrap"},il={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},cl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ul={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},gl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},xl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},hl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},vl={class:"flex space-x-1"},ml=["onClick"],p=5,$l={__name:"Dashboard",props:{todaysCalls:Array,pendingCalls:Array,upcomingCalls:Array,leads:Array,stats:Object,users:Array,user:Object,selectedUser:Object,services:Array,statuses:Array,modalUsers:Array},setup(o){const u=o,m=h(!1),z=h(null),$=h(null),V=h(!1),k=h(!1),j=h(null),y=h(1),b=h(1),v=h(1),f=(i,t=null)=>{z.value=i,$.value=t,m.value=!0},A=()=>{m.value=!1,z.value=null,$.value=null},N=()=>{V.value=!0},W=()=>{V.value=!1},S=i=>{j.value=i,k.value=!0},G=()=>{k.value=!1,j.value=null},P=i=>{te.visit(route("dashboard.filter",i))},J=()=>{te.visit(route("dashboard"))},w=()=>{document.getElementById("todays-calls-section")?.scrollIntoView({behavior:"smooth"})},K=()=>{document.getElementById("pending-calls-section")?.scrollIntoView({behavior:"smooth"})},Q=()=>{document.getElementById("upcoming-calls-section")?.scrollIntoView({behavior:"smooth"})},X=()=>{document.getElementById("recent-leads-section")?.scrollIntoView({behavior:"smooth"})},I=x(()=>u.stats.todays_calls),c=x(()=>u.stats.pending_calls),n=x(()=>u.stats.upcoming_calls),g=x(()=>u.stats.total_leads);x(()=>u.todaysCalls.length+u.pendingCalls.length+u.upcomingCalls.length);const Y=x(()=>{const i=(y.value-1)*p,t=i+p;return u.todaysCalls.slice(i,t)}),U=x(()=>{const i=(b.value-1)*p,t=i+p;return u.pendingCalls.slice(i,t)}),oe=x(()=>{const i=(v.value-1)*p,t=i+p;return u.upcomingCalls.slice(i,t)}),T=x(()=>Math.ceil(u.todaysCalls.length/p)),E=x(()=>Math.ceil(u.pendingCalls.length/p)),H=x(()=>Math.ceil(u.upcomingCalls.length/p)),F=i=>{y.value=i},O=i=>{b.value=i},R=i=>{v.value=i};return(i,t)=>(a(),r(M,null,[q(Z(de),{title:"Dashboard"}),q(re,null,{default:ee(()=>[e("div",nt,[e("div",dt,[e("div",it,[t[14]||(t[14]=e("div",null,[e("h1",{class:"text-4xl font-bold mb-3"},"CRM Dashboard"),e("p",{class:"text-blue-100 text-lg"},"Manage your leads and track call activities efficiently")],-1)),e("div",ct,[e("button",{onClick:N,class:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center space-x-2"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"New Lead",-1)])]),e("div",ut,[e("div",gt,[t[13]||(t[13]=e("p",{class:"text-blue-100 text-sm"},"Welcome back,",-1)),e("p",xt,l(o.user?.name),1)])])])])])]),e("div",{class:"mb-8"},[e("div",{class:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4"},[e("button",{onClick:w,class:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[15]||(t[15]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),e("span",null,"Today's Calls")],-1)])]),e("button",{onClick:K,class:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[16]||(t[16]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",null,"Pending Calls")],-1)])]),e("button",{onClick:Q,class:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[17]||(t[17]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",null,"Upcoming Calls")],-1)])]),e("button",{onClick:X,class:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[18]||(t[18]=[e("div",{class:"flex items-center justify-center space-x-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),e("span",null,"Recent Leads")],-1)])])])]),e("div",ht,[e("div",vt,[e("div",mt,[t[20]||(t[20]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])])],-1)),e("div",yt,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Today's Calls",-1)),e("p",bt,l(I.value),1)])])]),e("div",pt,[e("div",kt,[t[22]||(t[22]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ft,[t[21]||(t[21]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Pending Calls",-1)),e("p",wt,l(c.value),1)])])]),e("div",_t,[e("div",Ct,[t[24]||(t[24]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1)),e("div",Mt,[t[23]||(t[23]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Upcoming Calls",-1)),e("p",$t,l(n.value),1)])])]),e("div",jt,[e("div",Nt,[t[26]||(t[26]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),e("div",Dt,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Leads",-1)),e("p",Vt,l(g.value),1)])])])]),(o.user.is_admin||o.user.permissions?.users?.includes("view"))&&o.users.length>0?(a(),r("div",Lt,[e("div",Bt,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Filter by User",-1)),e("div",zt,[e("button",{onClick:J,class:C(["px-4 py-2 rounded-md text-sm font-medium transition-colors",o.selectedUser?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-blue-500 text-white"])}," All Users ",2),(a(!0),r(M,null,L(o.users,s=>(a(),r("button",{key:s.id,onClick:_=>P(s.id),class:C(["px-4 py-2 rounded-md text-sm font-medium transition-colors",o.selectedUser&&o.selectedUser.id===s.id?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"])},l(s.name),11,At))),128))])])])):d("",!0),e("div",St,[e("div",Pt,[e("div",Ut,[e("div",Tt,[t[28]||(t[28]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Today's Calls")],-1)),e("div",Et,[B(l(I.value)+" calls ",1),T.value>1?(a(),r("span",Ht," (Page "+l(y.value)+" of "+l(T.value)+") ",1)):d("",!0)])])]),e("div",It,[o.todaysCalls.length===0?(a(),r("div",Ft,[...t[29]||(t[29]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No calls scheduled for today.",-1)])])):(a(),r("div",Ot,[e("div",Rt,[(a(!0),r(M,null,L(Y.value,s=>(a(),r("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",qt,[e("div",Wt,[e("h4",Gt,l(s.name||"N/A"),1),e("p",Jt,l(s.company_name||"N/A"),1),e("p",Kt,l(s.phone||"N/A")+" • "+l(s.email||"N/A"),1),e("p",Qt,l(s.lead_details&&s.lead_details.length>0?s.lead_details[0].call_followup_summary||"No summary available":"No call details available"),1),e("p",Xt," Scheduled: "+l(s.lead_details&&s.lead_details.length>0?new Date(s.lead_details[0].next_call_date).toLocaleDateString():"No date set"),1),e("div",Yt,[e("span",Zt,l(s.status?.name||"No Status"),1),e("span",es,l(s.service?.name||"No Service"),1)])]),e("div",ts,[e("button",{onClick:_=>S(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," View Details ",8,ss),e("button",{onClick:_=>f(s,s.lead_details&&s.lead_details.length>0?s.lead_details[0]:null),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Make Call ",8,ls)])])]))),128))]),T.value>1?(a(),r("div",as,[y.value>1?(a(),r("button",{key:0,onClick:t[0]||(t[0]=s=>F(y.value-1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Previous ")):d("",!0),e("button",{onClick:t[1]||(t[1]=s=>F(1)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",y.value===1?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 1 ",2),T.value>1?(a(),r("button",{key:1,onClick:t[2]||(t[2]=s=>F(2)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",y.value===2?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 2 ",2)):d("",!0),y.value<T.value?(a(),r("button",{key:2,onClick:t[3]||(t[3]=s=>F(y.value+1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Next ")):d("",!0)])):d("",!0)]))])]),e("div",os,[e("div",rs,[e("div",ns,[t[30]||(t[30]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Pending Calls")],-1)),e("div",ds,[B(l(c.value)+" overdue ",1),E.value>1?(a(),r("span",is," (Page "+l(b.value)+" of "+l(E.value)+") ",1)):d("",!0)])])]),e("div",cs,[o.pendingCalls.length===0?(a(),r("div",us,[...t[31]||(t[31]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No pending calls.",-1)])])):(a(),r("div",gs,[e("div",xs,[(a(!0),r(M,null,L(U.value,s=>(a(),r("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",hs,[e("div",vs,[e("h4",ms,l(s.name||"N/A"),1),e("p",ys,l(s.company_name||"N/A"),1),e("p",bs,l(s.phone||"N/A")+" • "+l(s.email||"N/A"),1),e("p",ps,l(s.lead_details&&s.lead_details.length>0?s.lead_details[0].call_followup_summary||"No summary available":"No call details available"),1),e("p",ks," Overdue: "+l(s.lead_details&&s.lead_details.length>0?new Date(s.lead_details[0].next_call_date).toLocaleDateString():"No date set"),1),e("div",fs,[e("span",ws,l(s.status?.name||"No Status"),1),e("span",_s,l(s.service?.name||"No Service"),1)])]),e("div",Cs,[e("button",{onClick:_=>S(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," View Details ",8,Ms),e("button",{onClick:_=>f(s,s.lead_details&&s.lead_details.length>0?s.lead_details[0]:null),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Make Call ",8,$s)])])]))),128))]),E.value>1?(a(),r("div",js,[b.value>1?(a(),r("button",{key:0,onClick:t[4]||(t[4]=s=>O(b.value-1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Previous ")):d("",!0),e("button",{onClick:t[5]||(t[5]=s=>O(1)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",b.value===1?"bg-red-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 1 ",2),E.value>1?(a(),r("button",{key:1,onClick:t[6]||(t[6]=s=>O(2)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",b.value===2?"bg-red-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 2 ",2)):d("",!0),b.value<E.value?(a(),r("button",{key:2,onClick:t[7]||(t[7]=s=>O(b.value+1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Next ")):d("",!0)])):d("",!0)]))])])]),e("div",Ns,[e("div",Ds,[e("div",Vs,[t[32]||(t[32]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Upcoming Calls")],-1)),e("div",Ls,[B(l(n.value)+" scheduled ",1),H.value>1?(a(),r("span",Bs," (Page "+l(v.value)+" of "+l(H.value)+") ",1)):d("",!0)])])]),e("div",zs,[o.upcomingCalls.length===0?(a(),r("div",As,[...t[33]||(t[33]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No upcoming calls scheduled.",-1)])])):(a(),r("div",Ss,[e("div",Ps,[(a(!0),r(M,null,L(oe.value,s=>(a(),r("div",{key:s.id,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[e("div",Us,[e("div",Ts,[e("h4",Es,l(s.name||"N/A"),1),e("p",Hs,l(s.company_name||"N/A"),1),e("p",Is,l(s.phone||"N/A")+" • "+l(s.email||"N/A"),1),e("p",Fs,l(s.lead_details&&s.lead_details.length>0?s.lead_details[0].call_followup_summary||"No summary available":"No call details available"),1),e("p",Os," Scheduled: "+l(s.lead_details&&s.lead_details.length>0?new Date(s.lead_details[0].next_call_date).toLocaleDateString():"No date set"),1),e("div",Rs,[e("span",qs,l(s.status?.name||"No Status"),1),e("span",Ws,l(s.service?.name||"No Service"),1)])]),e("div",Gs,[e("button",{onClick:_=>S(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," View Details ",8,Js),e("button",{onClick:_=>f(s,s.lead_details&&s.lead_details.length>0?s.lead_details[0]:null),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors"}," Schedule Call ",8,Ks)])])]))),128))]),H.value>1?(a(),r("div",Qs,[v.value>1?(a(),r("button",{key:0,onClick:t[8]||(t[8]=s=>R(v.value-1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Previous ")):d("",!0),e("button",{onClick:t[9]||(t[9]=s=>R(1)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",v.value===1?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 1 ",2),H.value>1?(a(),r("button",{key:1,onClick:t[10]||(t[10]=s=>R(2)),class:C(["px-4 py-2 text-sm rounded-md transition-colors",v.value===2?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300"])}," 2 ",2)):d("",!0),v.value<H.value?(a(),r("button",{key:2,onClick:t[11]||(t[11]=s=>R(v.value+1)),class:"px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 rounded-md transition-colors"}," Next ")):d("",!0)])):d("",!0)]))])]),e("div",Xs,[e("div",Ys,[e("div",Zs,[t[34]||(t[34]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])]),e("h3",{class:"text-xl font-semibold text-white"},"Recent Leads")],-1)),e("div",el,l(g.value)+" total ",1)])]),e("div",tl,[o.leads.length===0?(a(),r("div",sl,[...t[35]||(t[35]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No leads found.",-1)])])):(a(),r("div",ll,[e("table",al,[t[38]||(t[38]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"SL No."),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Customer Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Leads Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Phone"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Service"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Assign To"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Next Call Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Options")])],-1)),e("tbody",ol,[(a(!0),r(M,null,L(o.leads.slice(0,10),(s,_)=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",rl,l(_+1),1),e("td",nl,l(s.name),1),e("td",dl,[e("span",il,l(s.status.name),1)]),e("td",cl,l(s.phone),1),e("td",ul,l(s.service.name),1),e("td",gl,l(s.assigned_user.name),1),e("td",xl,l(s.lead_details&&s.lead_details.length>0?new Date(s.lead_details[0].next_call_date).toLocaleDateString():"-"),1),e("td",hl,[e("div",vl,[e("button",{onClick:yl=>f(s),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Call"}," 📞 ",8,ml),q(Z(le),{href:i.route("leads.show",s.id),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"View"},{default:ee(()=>[...t[36]||(t[36]=[B(" 👁️ ",-1)])]),_:1},8,["href"]),q(Z(le),{href:i.route("leads.edit",s.id),class:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Edit"},{default:ee(()=>[...t[37]||(t[37]=[B(" ✏️ ",-1)])]),_:1},8,["href"])])])]))),128))])])]))])]),m.value?(a(),D(ae,{key:1,lead:z.value,statuses:o.statuses,callDetail:$.value,onClose:A},null,8,["lead","statuses","callDetail"])):d("",!0),V.value?(a(),D(ce,{key:2,show:V.value,services:o.services,statuses:o.statuses,users:o.modalUsers,onClose:W},null,8,["show","services","statuses","users"])):d("",!0),k.value?(a(),D(rt,{key:3,show:k.value,lead:j.value,services:o.services,statuses:o.statuses,users:o.modalUsers,user:o.user,onClose:G},null,8,["show","lead","services","statuses","users","user"])):d("",!0)]),_:1})],64))}};export{$l as default};
